; EXTENDED - Copyright (c) 1989 by Chris May          (3/1/1989)
;⁄ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒø
;≥ Subroutine to send IBM character set to Epson printer       ≥
;≥                                                             ≥
;≥ CALL Extended                                               ≥
;¿ƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒƒŸ

.MODEL medium,BASIC

.CODE

Extended Proc Uses DI

   Lea    DI,EPSON                 ;set to start of printer strings
   Mov    DH,'#'                   ;put end of string symbol in DH

Again:

   Mov    DL,CS:[DI]               ;take byte in to be sent to printer
   Cmp    DL,DH                    ;check for end of print string
   Je     Exit                     ;yes, all done

   Mov    AH,5                     ;printer interrupt code
   Int    21h                      ;send to printer
   Inc    DI
   Jmp    Again                    ;get next printer string byte

Exit:     Ret
Extended EndP

EPSON   DB 27,64                                                  ;reset
        DB 27,58,0,0,0
        DB 27,37,1,0
        DB 27,54
        DB 27,73,1
        DB 27,38,0,1,1,139,60,66,129,40,133,0,133,40,129,66,60        ;1
        DB 27,38,0,2,2,139,60,66,181,66,153,98,153,66,181,66,60       ;2
        DB 27,38,0,3,3,139,32,80,32,88,36,27,36,88,32,80,32           ;3
        DB 27,38,0,4,4,138,0,0,16,40,84,170,84,40,16,0,0              ;4
        DB 27,38,0,5,5,139,16,40,16,42,208,38,208,42,16,40,16         ;5
        DB 27,38,0,6,6,139,16,40,16,106,16,238,16,106,16,40,16        ;6
        DB 27,38,0,16,16,138,0,0,254,0,124,0,56,0,16,0,0              ;16
        DB 27,38,0,17,17,138,0,0,16,0,56,0,124,0,254,0,0              ;17
        DB 27,38,0,21,21,138,0,0,80,170,0,170,0,170,20,0,0            ;21
        DB 27,38,0,22,22,139,3,0,3,0,3,0,3,0,3,0,3                    ;22
        DB 27,38,0,23,23,139,1,0,41,0,109,146,109,0,41,0,1            ;23
        DB 27,38,0,25,25,139,0,8,0,12,0,254,0,12,0,8,0                ;25
        DB 27,38,0,28,28,134,240,0,240,0,240,0,0,0,0,0,0              ;28
        DB 27,38,0,29,29,139,0,0,0,0,0,0,240,0,240,0,240              ;29
        DB 27,38,0,30,30,134,15,0,15,0,15,0,0,0,0,0,0                 ;30
        DB 27,38,0,31,31,139,0,0,0,0,0,0,15,0,15,0,15                 ;31
        DB 27,38,0,95,95,11,1,0,1,0,1,0,1,0,1,0,1                     ;_
        DB 27,38,0,128,128,139,0,120,132,1,132,1,134,0,132,72,0       ;Ä
        DB 27,38,0,129,129,139,0,0,60,128,2,0,2,128,60,2,0            ;Å
        DB 27,38,0,130,130,139,0,28,34,8,34,72,162,8,34,24,0          ;Ç
        DB 27,38,0,131,131,139,0,4,10,32,74,160,74,32,28,2,0          ;É
        DB 27,38,0,132,132,139,0,4,10,160,10,32,10,160,28,2,0         ;Ñ
        DB 27,38,0,133,133,139,0,4,10,32,138,96,10,32,28,2,0          ;Ö
        DB 27,38,0,134,134,139,0,4,10,32,74,160,74,32,28,2,0          ;Ü
        DB 27,38,0,135,135,10,0,56,68,1,68,1,70,0,68,0,0              ;á
        DB 27,38,0,136,136,139,0,28,34,72,34,136,34,72,34,24,0        ;à
        DB 27,38,0,137,137,139,0,28,34,136,34,8,34,136,34,24,0        ;â
        DB 27,38,0,138,138,139,0,28,34,8,162,8,98,8,34,24,0           ;ä
        DB 27,38,0,139,139,137,0,0,0,128,0,30,0,128,0,0,0             ;ã
        DB 27,38,0,140,140,137,0,0,0,64,0,158,0,64,0,0,0              ;å
        DB 27,38,0,141,141,135,0,0,0,0,128,94,0,0,0,0,0               ;ç
        DB 27,38,0,142,142,139,0,6,8,148,32,68,32,148,8,6,0           ;é
        DB 27,38,0,143,143,139,0,6,8,84,160,4,160,84,8,6,0            ;è
        DB 27,38,0,144,144,139,0,62,0,42,0,106,128,42,0,34,0          ;ê
        DB 27,38,0,145,145,139,0,44,2,40,2,28,32,10,32,27,0           ;ë
        DB 27,38,0,146,146,139,0,62,64,144,0,254,0,146,0,146,0        ;í
        DB 27,38,0,147,147,138,0,0,92,34,128,34,128,34,92,0,0         ;ì
        DB 27,38,0,148,148,138,0,0,28,162,0,34,0,162,28,0,0           ;î
        DB 27,38,0,149,149,138,0,0,28,34,128,34,64,34,28,0,0          ;ï
        DB 27,38,0,150,150,139,0,0,92,0,130,0,130,0,92,2,0            ;ñ
        DB 27,38,0,151,151,139,0,0,60,0,130,64,2,0,60,2,0             ;ó
        DB 27,38,0,152,152,139,0,32,0,144,1,10,4,136,16,32,0          ;ò
        DB 27,38,0,153,153,139,0,28,34,128,34,0,34,128,34,28,0        ;ô
        DB 27,38,0,154,154,139,0,60,2,128,2,0,2,128,2,60,0            ;ö
        DB 27,38,0,155,155,138,0,56,68,0,68,186,68,0,68,0,0           ;õ
        DB 27,38,0,156,156,139,0,18,0,126,128,18,128,2,128,66,0       ;ú
        DB 27,38,0,157,157,139,0,168,0,104,0,62,0,104,0,168,0         ;ù
        DB 27,38,0,158,158,139,0,254,0,160,0,72,0,30,0,10,0           ;û
        DB 27,38,0,159,159,138,0,0,17,6,24,96,144,0,128,0,0           ;ü
        DB 27,38,0,160,160,139,0,4,10,32,10,96,138,32,28,2,0          ;†
        DB 27,38,0,161,161,136,0,0,0,0,0,94,128,0,0,0,0               ;°
        DB 27,38,0,162,162,138,0,0,28,34,0,98,128,34,28,0,0           ;¢
        DB 27,38,0,163,163,139,0,0,60,0,2,64,130,0,60,2,0             ;£
        DB 27,38,0,164,164,138,0,64,158,0,144,64,16,64,142,0,0        ;§
        DB 27,38,0,165,165,139,0,94,128,16,128,8,64,4,64,158,0        ;•
        DB 27,38,0,166,166,11,0,9,20,65,20,65,20,65,56,5,0            ;¶
        DB 27,38,0,167,167,10,0,0,57,68,1,68,1,68,57,0,0              ;ß
        DB 27,38,0,168,168,136,0,0,4,10,16,162,4,0,0,0,0              ;®
        DB 27,38,0,169,169,139,0,30,0,16,0,16,0,16,0,16,0             ;©
        DB 27,38,0,170,170,139,0,16,0,16,0,16,0,16,0,30,0             ;™
        DB 27,38,0,171,171,139,0,242,4,8,16,38,72,162,8,50,0          ;´
        DB 27,38,0,172,172,139,0,242,4,8,16,36,72,148,42,4,0          ;¨
        DB 27,38,0,173,173,135,0,0,0,0,0,94,0,0,0,0,0                 ;≠
        DB 27,38,0,174,174,136,16,40,68,146,40,68,130,0,0,0,0         ;Æ
        DB 27,38,0,175,175,136,130,68,40,146,68,40,16,0,0,0,0         ;Ø
        DB 27,38,0,176,176,139,34,0,136,34,0,136,34,0,136,34,0        ;∞
        DB 27,38,0,177,177,139,34,0,170,0,136,34,0,170,0,136,34       ;±
        DB 27,38,0,178,178,139,50,204,50,204,0,50,204,50,204,0,50     ;≤
        DB 27,38,0,179,179,135,0,0,0,0,0,255,0,0,0,0,0                ;≥
        DB 27,38,0,180,180,135,16,0,16,0,16,239,0,0,0,0,0             ;¥
        DB 27,38,0,181,181,135,40,0,40,0,40,215,0,0,0,0,0             ;µ
        DB 27,38,0,182,182,137,16,0,16,239,0,0,0,255,0,0,0            ;∂
        DB 27,38,0,183,183,137,16,0,16,15,0,16,0,31,0,0,0             ;∑
        DB 27,38,0,184,184,135,40,0,40,0,0,63,0,0,0,0,0               ;∏
        DB 27,38,0,185,185,137,40,0,40,215,0,0,0,255,0,0,0            ;π
        DB 27,38,0,186,186,137,0,0,0,255,0,0,0,255,0,0,0              ;∫
        DB 27,38,0,187,187,137,40,0,40,7,0,32,0,63,0,0,0              ;ª
        DB 27,38,0,188,188,137,40,0,40,192,0,8,0,248,0,0,0            ;º
        DB 27,38,0,189,189,137,16,0,16,224,0,16,0,240,0,0,0           ;Ω
        DB 27,38,0,190,190,137,40,0,40,0,0,40,0,248,0,0,0             ;æ
        DB 27,38,0,191,191,135,16,0,16,0,0,31,0,0,0,0,0               ;ø
        DB 27,38,0,192,192,139,0,0,0,0,0,240,0,0,16,0,16              ;¿
        DB 27,38,0,193,193,139,16,0,16,0,16,224,16,0,16,0,16          ;¡
        DB 27,38,0,194,194,139,16,0,16,0,16,15,16,0,16,0,16           ;¬
        DB 27,38,0,195,195,139,0,0,0,0,0,239,16,0,16,0,16             ;√
        DB 27,38,0,196,196,139,16,0,16,0,16,0,16,0,16,0,16            ;ƒ
        DB 27,38,0,197,197,139,16,0,16,0,16,239,16,0,16,0,16          ;≈
        DB 27,38,0,198,198,139,0,0,0,0,0,215,40,0,40,0,40             ;∆
        DB 27,38,0,199,199,139,0,0,0,255,0,0,0,239,16,0,16            ;«
        DB 27,38,0,200,200,139,0,0,0,248,0,8,0,200,32,0,40            ;»
        DB 27,38,0,201,201,139,0,0,0,63,0,32,0,39,8,0,40              ;…
        DB 27,38,0,202,202,139,40,0,40,192,8,0,8,192,40,0,40          ; 
        DB 27,38,0,203,203,139,40,0,40,7,32,0,32,7,40,0,40            ;À
        DB 27,38,0,204,204,139,0,0,0,255,0,0,0,199,40,0,40            ;Ã
        DB 27,38,0,205,205,139,40,0,40,0,40,0,40,0,40,0,40            ;Õ
        DB 27,38,0,206,206,139,40,0,40,199,0,0,0,199,40,0,40          ;Œ
        DB 27,38,0,207,207,139,40,0,40,0,40,192,40,0,40,0,40          ;œ
        DB 27,38,0,208,208,139,16,0,16,224,16,0,16,224,16,0,16        ;–
        DB 27,38,0,209,209,139,40,0,40,0,40,7,40,0,40,0,40            ;—
        DB 27,38,0,210,210,139,16,0,16,15,16,0,16,15,16,0,16          ;“
        DB 27,38,0,211,211,139,0,0,0,240,0,16,0,224,16,0,16           ;”
        DB 27,38,0,212,212,139,0,0,0,0,0,216,32,8,32,0,40             ;‘
        DB 27,38,0,213,213,139,0,0,0,0,0,55,8,0,40,0,40               ;’
        DB 27,38,0,214,214,139,0,0,0,31,0,16,0,15,16,0,16             ;÷
        DB 27,38,0,215,215,139,16,0,16,239,16,0,16,239,16,0,16        ;◊
        DB 27,38,0,216,216,139,40,0,40,0,40,215,40,0,40,0,40          ;ÿ
        DB 27,38,0,217,217,135,16,0,16,0,0,240,0,0,0,0,0              ;Ÿ
        DB 27,38,0,218,218,139,0,0,0,0,0,31,0,0,16,0,16               ;⁄
        DB 27,38,0,219,219,139,255,0,255,0,255,0,255,0,255,0,255      ;€
        DB 27,38,0,220,220,139,15,0,15,0,15,0,15,0,15,0,15            ;‹
        DB 27,38,0,221,221,134,255,0,255,0,255,0,0,0,0,0,0            ;›
        DB 27,38,0,222,222,139,0,0,0,0,0,0,255,0,255,0,255            ;ﬁ
        DB 27,38,0,223,223,139,240,0,240,0,240,0,240,0,240,0,240      ;ﬂ
        DB 27,38,0,224,224,138,0,12,18,32,2,32,22,8,50,0,0            ;‡
        DB 27,38,0,225,225,138,0,0,31,32,66,160,2,164,88,0,0          ;·
        DB 27,38,0,226,226,138,0,0,254,0,128,0,128,0,192,0,0          ;‚
        DB 27,38,0,227,227,139,0,32,0,32,30,32,0,62,0,32,0            ;„
        DB 27,38,0,228,228,139,0,130,68,170,16,130,0,130,0,198,0      ;‰
        DB 27,38,0,229,229,138,0,28,34,0,34,0,34,28,32,0,0            ;Â
        DB 27,38,0,230,230,138,0,2,4,56,4,0,4,56,4,0,0                ;Ê
        DB 27,38,0,231,231,139,0,32,0,32,0,62,0,32,0,32,0             ;Á
        DB 27,38,0,232,232,139,0,56,68,0,68,130,68,0,68,56,0          ;Ë
        DB 27,38,0,233,233,139,0,16,0,56,68,16,68,56,0,16,0           ;È
        DB 27,38,0,234,234,139,0,114,136,6,128,0,128,6,136,114,0      ;Í
        DB 27,38,0,235,235,138,0,0,12,18,0,82,160,18,140,0,0          ;Î
        DB 27,38,0,236,236,139,0,56,68,0,68,56,68,0,68,56,0           ;Ï
        DB 27,38,0,237,237,139,0,58,68,0,76,16,100,0,68,184,0         ;Ì
        DB 27,38,0,238,238,137,0,0,56,68,16,130,16,130,0,0,0          ;Ó
        DB 27,38,0,239,239,139,0,62,64,128,0,128,0,128,64,62,0        ;Ô
        DB 27,38,0,240,240,139,0,84,0,84,0,84,0,84,0,84,0
        DB 27,38,0,241,241,139,0,34,0,34,0,250,0,34,0,34,0            ;Ò
        DB 27,38,0,242,242,139,0,2,136,2,136,2,80,2,32,2,0            ;Ú
        DB 27,38,0,243,243,139,0,2,32,2,80,2,136,2,136,2,0            ;Û
        DB 27,38,0,244,244,139,0,0,0,0,0,127,128,0,128,64,0           ;Ù
        DB 27,38,0,245,245,135,4,2,0,2,4,248,0,0,0,0,0                ;ı
        DB 27,38,0,246,246,139,0,16,0,16,0,84,0,16,0,16,0             ;ˆ
        DB 27,38,0,247,247,139,0,36,0,36,18,0,18,36,0,36,0            ;˜
        DB 27,38,0,248,248,135,0,96,144,0,144,96,0,0,0,0,0            ;¯
        DB 27,38,0,249,249,136,0,0,24,36,24,36,24,0,0,0,0             ;˘
        DB 27,38,0,250,250,136,0,0,0,0,24,0,24,0,0,0,0                ;˙
        DB 27,38,0,251,251,139,0,32,24,4,2,4,24,224,0,128,0           ;˚
        DB 27,38,0,252,252,135,240,0,128,0,128,112,0,0,0,0,0          ;¸
        DB 27,38,0,253,253,134,72,128,24,128,104,0,0,0,0,0,0          ;˝
        DB 27,38,0,254,254,137,0,0,0,60,0,60,0,60,0,0,0               ;˛
        DB 27,73,1,26,0,0,0,'#'

End
